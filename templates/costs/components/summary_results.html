<div id="cost-results" hx-indicator="this">
    <div class="skeleton-loader">
        <div class="summary">
            <div class="card skeleton-text summary-card-skeleton"></div>
        </div>
        <div class="mt-4">
            <div class="skeleton-text summary-title-skeleton"></div>
            <div class="data-list mt-2">
                {% for i in "123" %}
                    <div class="data-list-item summary-list-item-skeleton">
                        <div class="list-item-info">
                            <div class="skeleton-text summary-item-title-skeleton"></div>
                            <div class="skeleton-text summary-item-subtitle-skeleton"></div>
                        </div>
                        <div class="list-item-stats">
                            <div class="skeleton-text summary-item-stat-title-skeleton"></div>
                            <div class="skeleton-text summary-item-stat-subtitle-skeleton"></div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <div class="hide-on-loading">
        <div class="summary">
            <div class="card summary-total-card">
                <div class="summary-total-label">Costo Totale Stimato</div>
                <div class="summary-total-value">${{ total_cost|floatformat:4 }}</div>
            </div>
        </div>

        <div class="mt-4">
            <h2>Riepilogo per Caricamento</h2>
            <div class="data-list mt-2">
                {% for upload in upload_summary %}
                    <div class="data-list-item summary-upload-item">
                        <div>
                            <div class="summary-upload-name">{{ upload.upload_file__file_name|default:"Caricamento Manuale" }}</div>
                            <div class="summary-upload-date">{{ upload.upload_file__upload_date|date:"d/m/Y H:i" }}</div>
                        </div>
                        <div class="summary-upload-stats">
                            <div class="summary-upload-cost">${{ upload.total_cost|floatformat:4 }}</div>
                            <div class="summary-upload-tokens">
                                {{ upload.total_input_tokens }} in / {{ upload.total_output_tokens }} out
                            </div>
                        </div>
                    </div>
                {% empty %}
                    {% include "components/empty-state.html" with icon="assessment" title="Nessun dato" description="Nessun log di utilizzo API trovato." %}
                {% endfor %}
            </div>
        </div>
    </div>
</div>
